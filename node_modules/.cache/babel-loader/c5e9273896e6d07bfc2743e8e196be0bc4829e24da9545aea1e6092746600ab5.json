{"ast":null,"code":"import _slicedToArray from\"C:/withpet/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./App.css';import{useState}from'react';import{useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Login(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),id=_useState2[0],setId=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uB85C\\uADF8\\uC778\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"login\",type:\"text\",name:\"username\",placeholder:\"\\uC544\\uC774\\uB514\",onChange:function onChange(event){setId(event.target.value);}})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"login\",type:\"password\",name:\"pwd\",placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638\",onChange:function onChange(event){setPassword(event.target.value);}})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"btn\",type:\"submit\",value:\"\\uB85C\\uADF8\\uC778\",onClick:function onClick(){var userData={userId:id,userPassword:password};fetch(\"http://localhost:3001/login\",{//auth 주소에서 받을 예정\nmethod:\"post\",// method :통신방법\nheaders:{// headers: API 응답에 대한 정보를 담음\n\"content-type\":\"application/json\"},body:JSON.stringify(userData)//userData라는 객체를 보냄\n}).then(function(res){return res.json();}).then(function(json){if(json.isLogin===\"True\"){props.setMode(\"WELCOME\");}else{alert(json.isLogin);}});}})})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uACC4\\uC815\\uC774 \\uC5C6\\uC73C\\uC2E0\\uAC00\\uC694?  \",/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){props.setMode(\"SIGNIN\");},children:\"\\uD68C\\uC6D0\\uAC00\\uC785\"})]})]});}function Signin(props){var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),id=_useState6[0],setId=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),password=_useState8[0],setPassword=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),password2=_useState10[0],setPassword2=_useState10[1];return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD68C\\uC6D0\\uAC00\\uC785\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"login\",type:\"text\",placeholder:\"\\uC544\\uC774\\uB514\",onChange:function onChange(event){setId(event.target.value);}})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"login\",type:\"password\",placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638\",onChange:function onChange(event){setPassword(event.target.value);}})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"login\",type:\"password\",placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638 \\uD655\\uC778\",onChange:function onChange(event){setPassword2(event.target.value);}})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"btn\",type:\"submit\",value:\"\\uD68C\\uC6D0\\uAC00\\uC785\",onClick:function onClick(){var userData={userId:id,userPassword:password,userPassword2:password2};fetch(\"http://localhost:3001/signin\",{//signin 주소에서 받을 예정\nmethod:\"post\",// method :통신방법\nheaders:{// headers: API 응답에 대한 정보를 담음\n\"content-type\":\"application/json\"},body:JSON.stringify(userData)//userData라는 객체를 보냄\n}).then(function(res){return res.json();}).then(function(json){if(json.isSuccess===\"True\"){alert('회원가입이 완료되었습니다!');props.setMode(\"LOGIN\");}else{alert(json.isSuccess);}});}})})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uB85C\\uADF8\\uC778\\uD654\\uBA74\\uC73C\\uB85C \\uB3CC\\uC544\\uAC00\\uAE30  \",/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){props.setMode(\"LOGIN\");},children:\"\\uB85C\\uADF8\\uC778\"})]})]});}function App(){var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),mode=_useState12[0],setMode=_useState12[1];useEffect(function(){fetch(\"http://localhost:3001/authcheck\").then(function(res){return res.json();}).then(function(json){if(json.isLogin===\"True\"){setMode(\"WELCOME\");}else{setMode(\"LOGIN\");}});},[]);var content=null;if(mode===\"LOGIN\"){content=/*#__PURE__*/_jsx(Login,{setMode:setMode});}else if(mode==='SIGNIN'){content=/*#__PURE__*/_jsx(Signin,{setMode:setMode});}else if(mode==='WELCOME'){content=/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uBA54\\uC778 \\uD398\\uC774\\uC9C0\\uC5D0 \\uC624\\uC2E0 \\uAC83\\uC744 \\uD658\\uC601\\uD569\\uB2C8\\uB2E4\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uB85C\\uADF8\\uC778\\uC5D0 \\uC131\\uACF5\\uD558\\uC168\\uC2B5\\uB2C8\\uB2E4.\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/logout\",children:\"\\uB85C\\uADF8\\uC544\\uC6C3\"})]});}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"background\",children:content})});}export default App;","map":{"version":3,"names":["useState","useEffect","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Login","props","_useState","_useState2","_slicedToArray","id","setId","_useState3","_useState4","password","setPassword","children","className","type","name","placeholder","onChange","event","target","value","onClick","userData","userId","userPassword","fetch","method","headers","body","JSON","stringify","then","res","json","isLogin","setMode","alert","Signin","_useState5","_useState6","_useState7","_useState8","_useState9","_useState10","password2","setPassword2","userPassword2","isSuccess","App","_useState11","_useState12","mode","content","href"],"sources":["C:/withpet/src/App.js"],"sourcesContent":["import './App.css';\r\nimport { useState } from 'react';\r\nimport { useEffect } from 'react';\r\n\r\n\r\n\r\nfunction Login(props) {\r\n  const [id, setId] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  \r\n  return <>\r\n    <h2>로그인</h2>\r\n\r\n    <div className=\"form\">\r\n      <p><input className=\"login\" type=\"text\" name=\"username\" placeholder=\"아이디\" onChange={event => {\r\n        setId(event.target.value);\r\n      }} /></p>\r\n      <p><input className=\"login\" type=\"password\" name=\"pwd\" placeholder=\"비밀번호\" onChange={event => {\r\n        setPassword(event.target.value);\r\n      }} /></p>\r\n\r\n      <p><input className=\"btn\" type=\"submit\" value=\"로그인\" onClick={() => {\r\n        const userData = {\r\n          userId: id,\r\n          userPassword: password,\r\n        };\r\n        fetch(\"http://localhost:3001/login\", { //auth 주소에서 받을 예정\r\n          method: \"post\", // method :통신방법\r\n          headers: {      // headers: API 응답에 대한 정보를 담음\r\n            \"content-type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify(userData), //userData라는 객체를 보냄\r\n        })\r\n          .then((res) => res.json())\r\n          .then((json) => {            \r\n            if(json.isLogin===\"True\"){\r\n              props.setMode(\"WELCOME\");\r\n            }\r\n            else {\r\n              alert(json.isLogin)\r\n            }\r\n          });\r\n      }} /></p>\r\n    </div>\r\n\r\n    <p>계정이 없으신가요?  <button onClick={() => {\r\n      props.setMode(\"SIGNIN\");\r\n    }}>회원가입</button></p>\r\n  </> \r\n}\r\n\r\n\r\nfunction Signin(props) {\r\n  const [id, setId] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [password2, setPassword2] = useState(\"\");\r\n\r\n  return <>\r\n    <h2>회원가입</h2>\r\n\r\n    <div className=\"form\">\r\n      <p><input className=\"login\" type=\"text\" placeholder=\"아이디\" onChange={event => {\r\n        setId(event.target.value);\r\n      }} /></p>\r\n      <p><input className=\"login\" type=\"password\" placeholder=\"비밀번호\" onChange={event => {\r\n        setPassword(event.target.value);\r\n      }} /></p>\r\n      <p><input className=\"login\" type=\"password\" placeholder=\"비밀번호 확인\" onChange={event => {\r\n        setPassword2(event.target.value);\r\n      }} /></p>\r\n\r\n      <p><input className=\"btn\" type=\"submit\" value=\"회원가입\" onClick={() => {\r\n        const userData = {\r\n          userId: id,\r\n          userPassword: password,\r\n          userPassword2: password2,\r\n        };\r\n        fetch(\"http://localhost:3001/signin\", { //signin 주소에서 받을 예정\r\n          method: \"post\", // method :통신방법\r\n          headers: {      // headers: API 응답에 대한 정보를 담음\r\n            \"content-type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify(userData), //userData라는 객체를 보냄\r\n        })\r\n          .then((res) => res.json())\r\n          .then((json) => {\r\n            if(json.isSuccess===\"True\"){\r\n              alert('회원가입이 완료되었습니다!')\r\n              props.setMode(\"LOGIN\");\r\n            }\r\n            else{\r\n              alert(json.isSuccess)\r\n            }\r\n          });\r\n      }} /></p>\r\n    </div>\r\n\r\n    <p>로그인화면으로 돌아가기  <button onClick={() => {\r\n      props.setMode(\"LOGIN\");\r\n    }}>로그인</button></p>\r\n  </> \r\n}\r\n\r\nfunction App() {\r\n  const [mode, setMode] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    fetch(\"http://localhost:3001/authcheck\")\r\n      .then((res) => res.json())\r\n      .then((json) => {        \r\n        if (json.isLogin === \"True\") {\r\n          setMode(\"WELCOME\");\r\n        }\r\n        else {\r\n          setMode(\"LOGIN\");\r\n        }\r\n      });\r\n  }, []); \r\n\r\n  let content = null;  \r\n\r\n  if(mode===\"LOGIN\"){\r\n    content = <Login setMode={setMode}></Login> \r\n  }\r\n  else if (mode === 'SIGNIN') {\r\n    content = <Signin setMode={setMode}></Signin> \r\n  }\r\n  else if (mode === 'WELCOME') {\r\n    content = <>\r\n    <h2>메인 페이지에 오신 것을 환영합니다</h2>\r\n    <p>로그인에 성공하셨습니다.</p> \r\n    <a href=\"/logout\">로그아웃</a>   \r\n    </>\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"background\">\r\n        {content}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}