{"ast":null,"code":"import _slicedToArray from\"C:/withpet/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./App.css';import{useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Login(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),id=_useState2[0],setId=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uB85C\\uADF8\\uC778\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"login\",type:\"text\",name:\"username\",placeholder:\"\\uC544\\uC774\\uB514\",onChange:function onChange(event){setId(event.target.value);}})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"login\",type:\"password\",name:\"pwd\",placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638\",onChange:function onChange(event){setPassword(event.target.value);}})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"btn\",type:\"submit\",value:\"\\uB85C\\uADF8\\uC778\",onClick:function onClick(){var userData={userId:id,userPassword:password};fetch('http://localhost:3001/login',{method:'post',headers:{'content-type':'application/json'},body:JSON.stringify(userData)}).then(function(res){return res.json();}).then(function(json){if(json.isLogin==='True'){// 로그인 성공 시 main.html로 리다이렉트\nprops.setMode(\"WELCOME\");}else{alert(json.isLogin);}});}})})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uACC4\\uC815\\uC774 \\uC5C6\\uC73C\\uC2E0\\uAC00\\uC694?\",' ',/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){props.setMode('SIGNIN');},children:\"\\uD68C\\uC6D0\\uAC00\\uC785\"})]})]});}function Signin(props){var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),id=_useState6[0],setId=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),name=_useState8[0],setName=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),password=_useState10[0],setPassword=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),password2=_useState12[0],setPassword2=_useState12[1];return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD68C\\uC6D0\\uAC00\\uC785\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"login\",type:\"text\",placeholder:\"\\uC544\\uC774\\uB514\",onChange:function onChange(event){setId(event.target.value);}})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"login\",type:\"text\",placeholder:\"\\uC774\\uB984\",onChange:function onChange(event){setName(event.target.value);}})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"login\",type:\"password\",placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638\",onChange:function onChange(event){setPassword(event.target.value);}})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"login\",type:\"password\",placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638 \\uD655\\uC778\",onChange:function onChange(event){setPassword2(event.target.value);}})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"btn\",type:\"submit\",value:\"\\uD68C\\uC6D0\\uAC00\\uC785\",onClick:function onClick(){var userData={userId:id,userName:name,userPassword:password,userPassword2:password2};fetch('http://localhost:3001/signin',{method:'post',headers:{'content-type':'application/json'},body:JSON.stringify(userData)}).then(function(res){return res.json();}).then(function(json){if(json.isSuccess==='True'){alert('회원가입이 완료되었습니다!');props.setMode('LOGIN');}else{alert(json.isSuccess);}});}})})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uB85C\\uADF8\\uC778\\uD654\\uBA74\\uC73C\\uB85C \\uB3CC\\uC544\\uAC00\\uAE30\",' ',/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){props.setMode('LOGIN');},children:\"\\uB85C\\uADF8\\uC778\"})]})]});}function App(){var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),mode=_useState14[0],setMode=_useState14[1];useEffect(function(){fetch('http://localhost:3001/authcheck').then(function(res){return res.json();}).then(function(json){if(json.isLogin==='True'){// 로그인 상태일 경우 main.html로 리다이렉트\nsetMode(\"WELCOME\");}else{setMode('LOGIN');}});},[]);var content=null;if(mode==='LOGIN'){content=/*#__PURE__*/_jsx(Login,{setMode:setMode});}else if(mode==='SIGNIN'){content=/*#__PURE__*/_jsx(Signin,{setMode:setMode});}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"background\",children:content})});}export default App;","map":{"version":3,"names":["useState","useEffect","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Login","props","_useState","_useState2","_slicedToArray","id","setId","_useState3","_useState4","password","setPassword","children","className","type","name","placeholder","onChange","event","target","value","onClick","userData","userId","userPassword","fetch","method","headers","body","JSON","stringify","then","res","json","isLogin","setMode","alert","Signin","_useState5","_useState6","_useState7","_useState8","setName","_useState9","_useState10","_useState11","_useState12","password2","setPassword2","userName","userPassword2","isSuccess","App","_useState13","_useState14","mode","content"],"sources":["C:/withpet/src/App.js"],"sourcesContent":["import './App.css';\r\nimport { useState, useEffect } from 'react';\r\n\r\nfunction Login(props) {\r\n  const [id, setId] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  return (\r\n    <>\r\n      <h2>로그인</h2>\r\n      <div className=\"form\">\r\n        <p>\r\n          <input\r\n            className=\"login\"\r\n            type=\"text\"\r\n            name=\"username\"\r\n            placeholder=\"아이디\"\r\n            onChange={(event) => {\r\n              setId(event.target.value);\r\n            }}\r\n          />\r\n        </p>\r\n        <p>\r\n          <input\r\n            className=\"login\"\r\n            type=\"password\"\r\n            name=\"pwd\"\r\n            placeholder=\"비밀번호\"\r\n            onChange={(event) => {\r\n              setPassword(event.target.value);\r\n            }}\r\n          />\r\n        </p>\r\n        <p>\r\n          <input\r\n            className=\"btn\"\r\n            type=\"submit\"\r\n            value=\"로그인\"\r\n            onClick={() => {\r\n              const userData = {\r\n                userId: id,\r\n                userPassword: password,\r\n              };\r\n              fetch('http://localhost:3001/login', {\r\n                method: 'post',\r\n                headers: {\r\n                  'content-type': 'application/json',\r\n                },\r\n                body: JSON.stringify(userData),\r\n              })\r\n                .then((res) => res.json())\r\n                .then((json) => {\r\n                  if (json.isLogin === 'True') {\r\n                    // 로그인 성공 시 main.html로 리다이렉트\r\n                    props.setMode(\"WELCOME\");\r\n                  } else {\r\n                    alert(json.isLogin);\r\n                  }\r\n                });\r\n            }}\r\n          />\r\n        </p>\r\n      </div>\r\n      <p>\r\n        계정이 없으신가요?{' '}\r\n        <button\r\n          onClick={() => {\r\n            props.setMode('SIGNIN');\r\n          }}\r\n        >\r\n          회원가입\r\n        </button>\r\n      </p>\r\n    </>\r\n  );\r\n}\r\n\r\nfunction Signin(props) {\r\n  const [id, setId] = useState('');\r\n  const [name, setName] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [password2, setPassword2] = useState('');\r\n\r\n  return (\r\n    <>\r\n      <h2>회원가입</h2>\r\n      <div className=\"form\">\r\n        <p>\r\n          <input\r\n            className=\"login\"\r\n            type=\"text\"\r\n            placeholder=\"아이디\"\r\n            onChange={(event) => {\r\n              setId(event.target.value);\r\n            }}\r\n          />\r\n        </p>\r\n        <p>\r\n          <input\r\n            className=\"login\"\r\n            type=\"text\"\r\n            placeholder=\"이름\"\r\n            onChange={(event) => {\r\n              setName(event.target.value);\r\n            }}\r\n          />\r\n        </p>\r\n        <p>\r\n          <input\r\n            className=\"login\"\r\n            type=\"password\"\r\n            placeholder=\"비밀번호\"\r\n            onChange={(event) => {\r\n              setPassword(event.target.value);\r\n            }}\r\n          />\r\n        </p>\r\n        <p>\r\n          <input\r\n            className=\"login\"\r\n            type=\"password\"\r\n            placeholder=\"비밀번호 확인\"\r\n            onChange={(event) => {\r\n              setPassword2(event.target.value);\r\n            }}\r\n          />\r\n        </p>\r\n        <p>\r\n          <input\r\n            className=\"btn\"\r\n            type=\"submit\"\r\n            value=\"회원가입\"\r\n            onClick={() => {\r\n              const userData = {\r\n                userId: id,\r\n                userName: name,\r\n                userPassword: password,\r\n                userPassword2: password2,\r\n              };\r\n              fetch('http://localhost:3001/signin', {\r\n                method: 'post',\r\n                headers: {\r\n                  'content-type': 'application/json',\r\n                },\r\n                body: JSON.stringify(userData),\r\n              })\r\n                .then((res) => res.json())\r\n                .then((json) => {\r\n                  if (json.isSuccess === 'True') {\r\n                    alert('회원가입이 완료되었습니다!');\r\n                    props.setMode('LOGIN');\r\n                  } else {\r\n                    alert(json.isSuccess);\r\n                  }\r\n                });\r\n            }}\r\n          />\r\n        </p>\r\n      </div>\r\n      <p>\r\n        로그인화면으로 돌아가기{' '}\r\n        <button\r\n          onClick={() => {\r\n            props.setMode('LOGIN');\r\n          }}\r\n        >\r\n          로그인\r\n        </button>\r\n      </p>\r\n    </>\r\n  );\r\n}\r\n\r\n\r\nfunction App() {\r\n  const [mode, setMode] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetch('http://localhost:3001/authcheck')\r\n      .then((res) => res.json())\r\n      .then((json) => {\r\n        if (json.isLogin === 'True') {\r\n          // 로그인 상태일 경우 main.html로 리다이렉트\r\n          setMode(\"WELCOME\");\r\n        } else {\r\n          setMode('LOGIN');\r\n        }\r\n      });\r\n  }, []);\r\n\r\n  let content = null;\r\n\r\n  if (mode === 'LOGIN') {\r\n    content = <Login setMode={setMode}></Login>;\r\n  } else if (mode === 'SIGNIN') {\r\n    content = <Signin setMode={setMode}></Signin>;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"background\">\r\n        {content}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}